<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />
		<meta name="viewport" content="initial-scale = 1, user-scalable = no" />
		<link rel="stylesheet" href="./css/style02.css" />
		<link rel="stylesheet" href="./css/menu.css">
		<link rel="stylesheet" href="./css/loader.css">
		<title>E-Learning Nutri Baby</title>
	</head>

	<body class="ancho">
		<div class="loader">
			<img src="https://eml.com.co/elearning_nutri_baby/loader.png" alt="">
		</div>
		<div id="container">
			<div class="abs back portada"></div>

			<!-- menu -->
			<a href="./Nutribabay-03.html" class="btn1"> </a>

			<a href="./Nutribabay-03.html" class="boton">
				<img src="https://eml.com.co/elearning_nutri_baby/boton.png" alt="" />
			</a>

			<a href="./index.html" class="boton2">
				<img src="https://eml.com.co/elearning_nutri_baby/atras.png" alt="" />
			</a>

			<!-- Audio -->
			<audio id="sonido-clic">
				<source src="https://eml.com.co/elearning_nutri_baby/button.mp3" type="audio/mpeg" />
			</audio>

			<!-- imagenes animadas -->
			<div class="nube">
				<img src="https://eml.com.co/elearning_nutri_baby/nubes.png" alt="" />
			</div>

			<div class="avion">
				<img src="https://eml.com.co/elearning_nutri_baby/avion.png" alt="" />
			</div>

			<div class="hondas">
				<img src="https://eml.com.co/elearning_nutri_baby/hondarosada.png" alt="ondas" />
			</div>

			<!-- Imagenes Tarros -->
			<div class="tarro1">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro1.png" alt="" />
			</div>
			<div class="tarro2">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro2.png" alt="" />
			</div>
			<div class="tarro3">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro3.png" alt="" />
			</div>
			<div class="tarro4">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro4.png" alt="" />
			</div>
			<div class="tarro5">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro5.png" alt="" />
			</div>
			<div class="tarro6">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro6.png" alt="" />
			</div>
			<div class="tarro7">
				<img src="https://eml.com.co/elearning_nutri_baby/tarro7.png" alt="" />
			</div>

			<!-- menu hamburguer -->
			<div class="hamburguesa">
				<img src="https://eml.com.co/elearning_nutri_baby/hamburguesa.png" alt="" />
			</div>

			<div class="menu">
				<div class="header">
					<h1 class="title">contenidos</h1>
					<button class="close-button">
						<img src="https://eml.com.co/elearning_nutri_baby/close-button.png" alt="" />
					</button>
				</div>
				<div class="content"></div>
			</div>
		</div>

		<script src="https://eml.com.co/Ayuda_visual_Gamabenceno/js/jquery.min.js"></script>
		<script src="https://eml.com.co/Ayuda_visual_Gamabenceno/js/jquery-3.2.1.min.js"></script>
		<script src="./js/menu.js"></script>
		<script src="./js/loader.js"></script>
		<script src="https://eml.com.co/Ayuda_visual_Gamabenceno/js/script.js"></script>

		<!-- Script Sonido-->
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				// selecciona .boton y .boton2
				const enlaces = document.querySelectorAll(
					'.boton, .boton2, .btn1'
				)
				const sonido = document.getElementById('sonido-clic')

				enlaces.forEach((el) => {
					el.addEventListener('click', (e) => {
						e.preventDefault()

						// reproduce sonido
						if (sonido) {
							sonido.currentTime = 0
							sonido.play().catch(() => {
								/* silencio errores de autoplay */
							})
						}

						// saca la URL: si es <a>, usa href; si es <button>, usa data-url
						const url =
							el.tagName === 'A'
								? el.getAttribute('href')
								: el.getAttribute('data-url')

						if (!url) return // si no hay adónde ir, no hacemos nada

						setTimeout(() => {
							window.location.href = url
						}, 800)
					})
				})
			})
		</script>
		<script>
			;(() => {
				// Cambia esto si tu clase de animación tiene otro nombre
				const ANIM_CLASS = 'tarro--land'

				// Debe coincidir con la duración de tu animation en CSS (en ms)
				const LAND_MS = 1000 // 1s si tu CSS dice "animation: ... 1s ..."
				const GAP_MS = 1200 // Pausa entre uno y otro (ajústala a gusto)

				// Utilidades
				const qsa = (sel) => Array.from(document.querySelectorAll(sel))

				function getTarros() {
					// Si ya agregaste clase común .tarro, tomará esos.
					// Si no, toma .tarro1..7 como fallback.
					let nodes = qsa('.tarro')
					if (!nodes.length) {
						nodes = qsa(
							'.tarro1, .tarro2, .tarro3, .tarro4, .tarro5, .tarro6, .tarro7'
						)
					}
					return nodes
				}

				function shuffle(arr) {
					for (let i = arr.length - 1; i > 0; i--) {
						const j = Math.floor(Math.random() * (i + 1))
						;[arr[i], arr[j]] = [arr[j], arr[i]]
					}
					return arr
				}

				// Re-dispara la animación aunque sea la misma clase
				function restartAnimation(el) {
					el.classList.remove(ANIM_CLASS)
					// Forzar reflow para que el navegador "olvide" el estado de la animación
					void el.offsetWidth // <- truco clave
					el.classList.add(ANIM_CLASS)
				}

				function runLoop() {
					const tarros = getTarros()
					if (!tarros.length) {
						console.warn(
							'No encontré tarros. Asegúrate de tener .tarro o .tarro1..7 en el HTML.'
						)
						return
					}

					let order = shuffle([...tarros]) // orden aleatorio sin repetir
					let idx = 0

					function tick() {
						const el = order[idx]

						// Dispara animación en este tarro
						restartAnimation(el)

						// Limpia la clase al terminar, por si usas otra forma de re-disparo
						setTimeout(
							() => el.classList.remove(ANIM_CLASS),
							LAND_MS
						)

						// Avanza en la cola; al terminar, vuelve a barajar
						idx++
						if (idx >= order.length) {
							order = shuffle([...tarros])
							idx = 0
						}

						// Programa el siguiente
						setTimeout(tick, LAND_MS + GAP_MS)
					}

					tick()
				}

				// Inicia cuando el DOM esté listo
				if (document.readyState === 'loading') {
					document.addEventListener('DOMContentLoaded', runLoop)
				} else {
					runLoop()
				}
			})()
		</script>
	</body>
</html>
